<div class="row no-gutters">
    <div class="col-10 offset-1 col-md-6 offset-md-3">
        <select class="form-control" [(ngModel)]="mode">
            <option value="add">Add Product</option>
            <option value="remove">Remove Product</option>
        </select>
        <br>
        <form *ngIf="mode =='add' " (ngSubmit)="addProduct()" [formGroup]="newForm">
            <div class="form-group row">
                <label for="id" class="col-sm-3 col-form-label">Product ID</label>
                <div class="col-sm-9">
                  <input type="number" class="form-control" name="id" formControlName="id">
                </div>
            </div>
            <div class="form-group row">
                <label for="name" class="col-sm-3 col-form-label">Product Name</label>
                <div class="col-sm-9">
                  <input type="text" class="form-control" name="name" formControlName="name">
                </div>
            </div>
            <div class="form-group row">
                <label for="category" class="col-sm-3 col-form-label">Product Category</label>
                <div class="col-sm-9">
                  <input type="text" class="form-control" name="category" formControlName="category">
                </div>
            </div>
            <div class="form-group row">
                <label for="imagePath" class="col-sm-3 col-form-label">Image Path</label>
                <div class="col-sm-9">
                  <input type="text" class="form-control" name="imagePath" formControlName="imagePath">
                </div>
            </div>
            <div class="form-group row">
                <label for="description" class="col-sm-3 col-form-label">Description</label>
                <div class="col-sm-9">
                  <textarea class="form-control" name="description" rows="4" formControlName="description"></textarea>
                </div>
            </div>
            <div class="form-group row">
                <label for="tags" class="col-sm-3 col-form-label">Tags(space seperated)</label>
                <div class="col-sm-9">
                    <textarea class="form-control" name="tags" rows="2" formControlName="tags"></textarea>
                </div>
            </div>
            <div class="form-group row">
                <label for="price" class="col-sm-3 col-form-label">Price</label>
                <div class="col-sm-9">
                  <input type="number" class="form-control" name="price" formControlName="price">
                </div>
            </div>
            <div class="form-group row">
                <div class="offset-3 col-sm-9 form-check">
                    <input class="form-check-input" type="checkbox" name="bestseller" formControlName="isBestSeller">
                    <label class="form-check-label" for="bestseller">
                      It is a best seller
                    </label>
                </div>
            </div>
            <div class="form-group row">
                <label for="name" class="col-sm-3 col-form-label">Details</label>
            </div>
            <div class="form-group row" formArrayName="details">
                <ng-container *ngFor="let detail of detailsArray.controls;index as i" [formGroupName]="i">
                    <div class="col-sm-3 mb-1">
                        <input type="text" class="form-control" name="detailType" formControlName="detailType">
                    </div>
                    <div class="col-sm-8">
                        <input type="text" class="form-control" name="detailDesc" formControlName="detailDesc">
                    </div>
                    <div class="col-sm-1">
                        <button type="button" class="btn btn-danger" (click)="removeDetail(i)">X</button>
                    </div>
                </ng-container>
            </div>
            <div class="row">
                <div class="col-sm-4 offset-4 mb-2">
                    <button type="button" class="btn btn-dark" (click)="addNewDetail()">Add new Detail</button>
                  </div>
            </div>
            <div class="form-group row">
                <div class="col-12 col-md-6">
                    <button type="button" class="btn btn-info btn-block mb-1" (click)="clearForm()">Clear</button>
                </div>
                <div class="col-12 col-md-6">
                    <button type="submit" class="btn btn-success btn-block" [disabled]="!newForm.valid">Save</button>
                </div>
            </div>
        </form>
        <form *ngIf="mode =='remove' " (ngSubmit)="deleteProduct()" #f="ngForm">
            <div class="form-group row">
                <label for="name" class="col-sm-3 col-form-label">Product ID</label>
                <div class="col-sm-9">
                  <input type="number" class="form-control" name="id" ngModel required>
                </div>
            </div>
            <div class="form-group row">
                <div class="col d-flex justify-content-center">
                    <button type="submit" class="btn btn-lg btn-danger" [disabled]="!f.valid">Delete</button>
                </div>
            </div>
        </form>
    </div>
</div>